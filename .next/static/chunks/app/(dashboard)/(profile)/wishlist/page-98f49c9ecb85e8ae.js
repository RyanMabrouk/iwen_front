!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0a573495-1469-4fa7-83fb-15e784cc44bb",e._sentryDebugIdIdentifier="sentry-dbid-0a573495-1469-4fa7-83fb-15e784cc44bb")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7850],{46931:function(e,t,s){Promise.resolve().then(s.bind(s,12782))},12782:function(e,t,s){"use strict";s.d(t,{default:function(){return x}});var a=s(66281),l=s(63714),n=s(797),i=s(835),r=s(50319),o=s(91311);let d=e=>({queryKey:["wishlist",e],queryFn:async()=>{let t=(0,o.Z)({resource:"wishlist",action:"getWishlist"}),s=Object.keys(e).map(t=>({name:t,value:JSON.stringify(e[t])})),a=(0,i.Z)({currentPathname:t(),values:s}),{error:l,data:n}=await (0,r.Z)({method:"GET",url:a});return l?{data:null,error:l}:{data:n,error:null}}});var u=s(18594),c=s(10513),f=s(89691),m=s(68756),h=s(69278),v=s(9281);function y(){return(0,a.jsxs)("div",{className:"flex flex-col m-auto justify-center gap-2","data-sentry-component":"NoWishlist","data-sentry-source-file":"noWishlist.tsx",children:[(0,a.jsx)("div",{className:"font-semibold text-center",children:"قائمة الرغبات "}),(0,a.jsx)(h.default,{src:"/profile/noBooks.png",alt:"noPurchases",width:500,height:500,className:"mt-10 h-auto w-[30rem] m-auto","data-sentry-element":"Image","data-sentry-source-file":"noWishlist.tsx"}),(0,a.jsx)("div",{className:"text-center",children:"لا يوجد كتب في قائمة الرغبات"}),(0,a.jsx)(v.default,{href:"/books",className:"text-center","data-sentry-element":"Link","data-sentry-source-file":"noWishlist.tsx",children:(0,a.jsx)("button",{className:"rounded-md m-auto mt-5 bg-color2 w-fit p-2 px-4 text-lg text-white opacity-100 hover:opacity-50",children:"مواصلة التسوّق"})})]})}function x(){var e,t,s,i,r,o,h,v;let[x,g]=(0,m.useState)(1),{data:p,isLoading:b}=(v={page:x,limit:4},(0,n.useQuery)(d(v))),w=(0,f.useQueryClient)();return((0,m.useEffect)(()=>{var e,t;(null==p?void 0:null===(t=p.data)||void 0===t?void 0:null===(e=t.meta)||void 0===e?void 0:e.has_next_page)&&w.prefetchQuery(d({page:x+1,limit:4}))},[x,null==p?void 0:null===(t=p.data)||void 0===t?void 0:null===(e=t.meta)||void 0===e?void 0:e.has_next_page,w]),b)?(0,a.jsx)(u.J5,{className:"m-auto",autoplay:!0,loop:!0,src:"/loading.json",style:{height:"12rem",width:"12rem"}}):(null==p?void 0:null===(s=p.data)||void 0===s?void 0:s.meta.total_count)===0?(0,a.jsx)(y,{}):(0,a.jsxs)("div",{className:"mx-auto sm:max-w-5xl",dir:"rtl","data-sentry-component":"Wishlist","data-sentry-source-file":"wishlist.tsx",children:[(0,a.jsx)("div",{className:" grid grid-cols-1 sm:grid-cols-3 md:grid-cols-4",children:null==p?void 0:null===(i=p.data)||void 0===i?void 0:i.data.map(e=>{var t;return(0,a.jsx)("div",{dir:"ltr",className:"group flex h-full w-full items-center justify-center p-4",children:(0,a.jsx)(l.Z,{...e,writer:(null===(t=e.writer)||void 0===t?void 0:t.name)||"كاتب غير معروف"})},e.id)})}),(0,a.jsx)("div",{className:"mt-8 flex justify-center",children:(0,a.jsx)(c.Z,{className:"flex w-full justify-center",count:null!==(h=null==p?void 0:null===(o=p.data)||void 0===o?void 0:null===(r=o.meta)||void 0===r?void 0:r.total_pages)&&void 0!==h?h:1,page:x,boundaryCount:3,siblingCount:3,onChange:(e,t)=>g(t),dir:"ltr","data-sentry-element":"Pagination","data-sentry-source-file":"wishlist.tsx"})})]})}}},function(e){e.O(0,[5813,2161,7182,9278,797,9281,3435,8899,513,3714,4913,364,5768,1744],function(){return e(e.s=46931)}),_N_E=e.O()}]);