!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8d8910d9-cbd0-4ce7-9c9e-89f3f91545a9",e._sentryDebugIdIdentifier="sentry-dbid-8d8910d9-cbd0-4ce7-9c9e-89f3f91545a9")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2129],{16588:function(e,t,s){Promise.resolve().then(s.bind(s,95250))},95250:function(e,t,s){"use strict";s.d(t,{default:function(){return g}});var a=s(66281),r=s(69278),n=s(68756),o=s(64502),i=s(45516);s(73708);var l=(0,s(8552).$)("35c5fa1d3cdc7afd2b3e0b4a6f4895ec83964a76"),c=s(15177);let d=c.z.object({email:c.z.string().email("عنوان البريد الإلكتروني غير صالح"),password:c.z.string().min(8,"يجب أن تتكون كلمة المرور من 8 أحرف على الأقل"),name:c.z.string().min(2,"يجب أن يتكون الاسم الأول من حرفين على الأقل")});async function u(e){let{email:t,password:s,name:a,confirmPassword:r}={email:e.get("email"),password:e.get("password"),name:e.get("name"),confirmPassword:e.get("confirmPassword")},n=d.parse({email:t,password:s,name:a});if(s!==r)throw Error("كلمة المرور و تأكيدها غير متطابقين");let{error:o,data:i}=await l(n);if(o)throw Error(o.message);return{data:i}}var m=s(9281),f=s(19796),h=e=>{let{src:t,alt:s}=e;return(0,a.jsx)(f.E.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0,scale:.1,rotate:-540,y:100},visible:{opacity:1,scale:1,rotate:0,y:0,transition:{duration:.6,ease:"easeOut",times:[0,.3,.6,1],opacity:{duration:.2},scale:{duration:.4},rotate:{duration:.6,ease:"easeInOut"},y:{duration:.4,ease:"easeOut"}}}},"data-sentry-element":"unknown","data-sentry-component":"AnimatedCorrectIcon","data-sentry-source-file":"AnimatedCorrectIcon.tsx",children:(0,a.jsx)(r.default,{className:"m-6",src:t,alt:s,width:100,height:100,"data-sentry-element":"Image","data-sentry-source-file":"AnimatedCorrectIcon.tsx"})})};function g(){let[e,t]=(0,n.useState)(!1),[s,l]=(0,n.useState)({name:"",email:"",password:"",confirmPassword:""}),[c,d]=(0,n.useState)(null),[f,g]=(0,n.useState)(!1),[x,p]=(0,n.useState)(!1),{mutate:y}=function(e){let{toast:t}=(0,i.useToast)();return(0,o.useMutation)({mutationFn:u,onSuccess:()=>{t.success("تم إنشاء الحساب بنجاح","success : "),e(!0)},onError:e=>{try{let s=JSON.parse(e.message);Array.isArray(s)?s.forEach(e=>{e&&"object"==typeof e&&"message"in e&&t.error(e.message)}):t.error(e.message)}catch(s){t.error(e.message)}}})}(t),w=e=>{let{name:t,value:s}=e.target;l(e=>({...e,[t]:s}))},v=function(e,t,n,o,i){let l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("label",{htmlFor:t,children:[e,"*"]}),(0,a.jsxs)("div",{className:"flex w-full justify-end gap-2 rounded-md border p-2 transition-all duration-300 ".concat(c===t?"border-emerald-700":""),children:[l&&(0,a.jsx)("button",{type:"button",onClick:()=>"password"===t?g(!f):p(!x),"aria-label":"".concat(f?"Hide":"Show"," password"),children:"password"===t?f?(0,a.jsx)(r.default,{width:20,height:20,src:"/auth/eye.svg",className:"opacity-90",alt:"Toggle password visibility"}):(0,a.jsx)(r.default,{width:20,height:20,src:"/auth/eye-crossed.svg",className:"opacity-40",alt:"Toggle password visibility"}):x?(0,a.jsx)(r.default,{width:20,height:20,src:"/auth/eye.svg",className:"opacity-90",alt:"Toggle password visibility"}):(0,a.jsx)(r.default,{width:20,height:20,src:"/auth/eye-crossed.svg",className:"opacity-40",alt:"Toggle password visibility"})}),(0,a.jsxs)("div",{className:"flex flex-1 items-center justify-end gap-2",children:[(0,a.jsx)("input",{id:t,name:t,placeholder:i,className:"h-[20px] flex-1 outline-none",type:l?"password"===t?f?"text":"password":x?"text":"password":n,dir:"rtl",value:s[t],onChange:w,onFocus:()=>d(t),onBlur:()=>d(null),required:!0}),(0,a.jsx)(r.default,{width:20,height:20,src:o,alt:"".concat(t," icon"),"data-sentry-element":"Image","data-sentry-source-file":"SignupForm.tsx"})]})]})]})};return e?(0,a.jsxs)("div",{className:"flex w-full flex-col items-center p-5",children:[(0,a.jsx)(h,{src:"/auth/correct.svg",alt:"Correct icon"}),(0,a.jsx)("h1",{className:"text-xl",children:"تهانينا !"}),(0,a.jsx)("p",{className:"text-center text-2xl font-semibold",children:"تهانينا ! تم إنشاء حسابك بنجاح"}),(0,a.jsx)(m.default,{href:"/home",style:{background:"#27A098"},className:"text-md mt-10 w-full rounded-md p-3 text-center font-semibold text-white",children:"تسجيل الدخول"})]}):(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y(new FormData(e.currentTarget))},className:"flex h-full w-full flex-col items-end gap-1",children:[v("الإسم","name","text","/auth/Profile.svg","الإسم الكامل"),v("البريد إلكتروني","email","email","/auth/envelope.svg"," البريد الإلكتروني"),v("كلمة المرور","password","password","/auth/unlock.svg"," أدخل كلمة المرور",!0),v("التأكد من كلمة المرور","confirmPassword","password","/auth/unlock.svg","أعد إدخال كلمة المرور",!0),(0,a.jsx)("button",{type:"submit",style:{background:"#27A098"},className:"text-md mt-5 w-full rounded-md p-3 text-center font-semibold text-white",children:"إنشاء حساب"})]})}},45516:function(e,t,s){"use strict";s.r(t),s.d(t,{ToastContainer:function(){return c},ToastProvider:function(){return i},useToast:function(){return l}});var a=s(66281),r=s(68756),n=s(13955);n.ZP.config({top:100,duration:10,maxCount:3,rtl:!0,prefixCls:"my-message"});let o=(0,r.createContext)({});function i(e){let{children:t}=e,{toast:s,toastContainer:r}=function(){let[e,t]=n.ZP.useMessage(),s=(t,s,r)=>{e.open({type:t,content:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"my-2 mr-1 text-[1.05rem] font-semibold",children:s}),(0,a.jsx)("span",{className:"my-2 ml-2 text-[1.05rem]",children:r})]})})};return{toast:{success(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";s("success",t,e)},error(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";s("error",t,e)},warning(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";s("warning",t,e)},info(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";s("info",t,e)}},toastContainer:t}}();return(0,a.jsx)(o.Provider,{value:{toast:s,toastContainer:r},"data-sentry-element":"unknown","data-sentry-component":"ToastProvider","data-sentry-source-file":"useToast.tsx",children:t})}function l(){let{toast:e,toastContainer:t}=(0,r.useContext)(o);if(!e||!t)throw Error("useToast must be used within a ToastProvider");return{toast:e,toastContainer:t}}function c(){let{toastContainer:e}=(0,r.useContext)(o);return(0,a.jsx)(a.Fragment,{children:e})}}},function(e){e.O(0,[7182,9278,9281,1711,781,4913,364,5768,1744],function(){return e(e.s=16588)}),_N_E=e.O()}]);