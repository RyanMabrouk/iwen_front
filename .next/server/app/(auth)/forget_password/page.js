!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="0e7db217-91ff-410e-9520-370c691c5469",e._sentryDebugIdIdentifier="sentry-dbid-0e7db217-91ff-410e-9520-370c691c5469")}catch(e){}}(),(()=>{var e={};e.id=8537,e.ids=[8537],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},61212:e=>{"use strict";e.exports=require("async_hooks")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},27920:e=>{"use strict";e.exports=require("diagnostics_channel")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},35816:e=>{"use strict";e.exports=require("process")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},87077:(e,r,t)=>{"use strict";let s;t.r(r),t.d(r,{default:()=>h,generateImageMetadata:()=>g,generateMetadata:()=>f,generateViewport:()=>m});var o=t(28920),a=t(68691),n=t(54637),i=t(54580),u=t(46167),c=t(81776);let d=(0,c.createProxy)(String.raw`/Users/macmini/Sites/iwan/iwen_front/src/provider/auth/CounterProvider.tsx#CounterProvider`);(0,c.createProxy)(String.raw`/Users/macmini/Sites/iwan/iwen_front/src/provider/auth/CounterProvider.tsx#useCounter`),t(9943);let l={...i},p="workUnitAsyncStorage"in l?l.workUnitAsyncStorage:"requestAsyncStorage"in l?l.requestAsyncStorage:void 0;s=new Proxy(function({children:e}){return(0,u.jsx)(d,{"data-sentry-element":"CounterProvider","data-sentry-component":"layout","data-sentry-source-file":"layout.tsx",children:e})},{apply:(e,r,t)=>{let s,i,u;try{let e=(0,o.x)([p,"optionalAccess",e=>e.getStore,"call",e=>e()]);s=(0,a.h)((0,o.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("sentry-trace")]),()=>void 0),i=(0,a.h)((0,o.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("baggage")]),()=>void 0),u=(0,o.x)([e,"optionalAccess",e=>e.headers])}catch(e){}return n.wrapServerComponentWithSentry(e,{componentRoute:"/(auth)/forget_password",componentType:"Layout",sentryTraceHeader:s,baggageHeader:i,headers:u}).apply(r,t)}});let f=void 0,g=void 0,m=void 0,h=s},74477:(e,r,t)=>{"use strict";let s;t.r(r),t.d(r,{default:()=>x,generateImageMetadata:()=>h,generateMetadata:()=>m,generateViewport:()=>b});var o=t(28920),a=t(68691),n=t(54637),i=t(54580),u=t(46167),c=t(59339);t(9943);let d=(0,t(81776).createProxy)(String.raw`/Users/macmini/Sites/iwan/iwen_front/src/app/(auth)/forget_password/ui/ForgotPasswordForm.tsx#default`);var l=t(74719);async function p(){let{data:e}=await (0,l.default)();return e.user&&(0,c.redirect)("/home"),(0,u.jsx)(d,{"data-sentry-element":"ForgotPasswordForm","data-sentry-component":"Page","data-sentry-source-file":"page.tsx"})}let f={...i},g="workUnitAsyncStorage"in f?f.workUnitAsyncStorage:"requestAsyncStorage"in f?f.requestAsyncStorage:void 0;s=new Proxy(p,{apply:(e,r,t)=>{let s,i,u;try{let e=(0,o.x)([g,"optionalAccess",e=>e.getStore,"call",e=>e()]);s=(0,a.h)((0,o.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("sentry-trace")]),()=>void 0),i=(0,a.h)((0,o.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("baggage")]),()=>void 0),u=(0,o.x)([e,"optionalAccess",e=>e.headers])}catch(e){}return n.wrapServerComponentWithSentry(e,{componentRoute:"/(auth)/forget_password",componentType:"Page",sentryTraceHeader:s,baggageHeader:i,headers:u}).apply(r,t)}});let m=void 0,h=void 0,b=void 0,x=s},59373:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.Z,__next_app__:()=>l,originalPathname:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>u}),t(74477),t(87077),t(74909),t(30464),t(33670),t(68397),t(34506),t(38064);var s=t(57007),o=t(25706),a=t(26657),n=t(62903),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(r,i);let u=["",{children:["(auth)",{children:["forget_password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,74477)),"/Users/macmini/Sites/iwan/iwen_front/src/app/(auth)/forget_password/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,87077)),"/Users/macmini/Sites/iwan/iwen_front/src/app/(auth)/forget_password/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,74909)),"/Users/macmini/Sites/iwan/iwen_front/src/app/(auth)/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,30464)),"/Users/macmini/Sites/iwan/iwen_front/src/app/(auth)/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,33670)),"/Users/macmini/Sites/iwan/iwen_front/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,68397)),"/Users/macmini/Sites/iwan/iwen_front/src/app/error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,34506)),"/Users/macmini/Sites/iwan/iwen_front/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,38064)),"/Users/macmini/Sites/iwan/iwen_front/src/app/not-found.tsx"]}],c=["/Users/macmini/Sites/iwan/iwen_front/src/app/(auth)/forget_password/page.tsx"],d="/(auth)/forget_password/page",l={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(auth)/forget_password/page",pathname:"/forget_password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},35232:(e,r,t)=>{let s={ca46bb2487e9ee46055dae471e43218f96c9fd1f:()=>Promise.resolve().then(t.bind(t,75546)).then(e=>e.default),"42d1d7de5af24c0bb87cd8f1a49c3320d0dadbb1":()=>Promise.resolve().then(t.bind(t,94084)).then(e=>e.default),e161e4585ecdbe0402b5e00afdca5e5e6b7888b3:()=>Promise.resolve().then(t.bind(t,98878)).then(e=>e.default)};async function o(e,...r){return(await s[e]()).apply(null,r)}e.exports={ca46bb2487e9ee46055dae471e43218f96c9fd1f:o.bind(null,"ca46bb2487e9ee46055dae471e43218f96c9fd1f"),"42d1d7de5af24c0bb87cd8f1a49c3320d0dadbb1":o.bind(null,"42d1d7de5af24c0bb87cd8f1a49c3320d0dadbb1"),e161e4585ecdbe0402b5e00afdca5e5e6b7888b3:o.bind(null,"e161e4585ecdbe0402b5e00afdca5e5e6b7888b3")}},27033:(e,r,t)=>{let s={"2e32ad85c09f05479470641f63c6e19679667730":()=>Promise.resolve().then(t.bind(t,74719)).then(e=>e.default),"4cff84bc16a182ce9e639f8d1157bd16e56a5a1f":()=>Promise.resolve().then(t.bind(t,44772)).then(e=>e.default)};async function o(e,...r){return(await s[e]()).apply(null,r)}e.exports={"2e32ad85c09f05479470641f63c6e19679667730":o.bind(null,"2e32ad85c09f05479470641f63c6e19679667730"),"4cff84bc16a182ce9e639f8d1157bd16e56a5a1f":o.bind(null,"4cff84bc16a182ce9e639f8d1157bd16e56a5a1f")}},35183:(e,r,t)=>{Promise.resolve().then(t.bind(t,30753))},6956:(e,r,t)=>{Promise.resolve().then(t.bind(t,70278))},30753:(e,r,t)=>{"use strict";t.d(r,{default:()=>l});var s=t(31403),o=t(18967),a=t(39307),n=t(92305),i=t(51877),u=t(38723),c=t(82021),d=t(70278);function l(){let[e,r]=(0,a.useState)(!1),[t,l]=(0,a.useState)(""),{mutate:p}=function(e){let{toast:r}=(0,i.useToast)(),t=(0,u.useRouter)();return(0,n.useMutation)({mutationFn:async e=>(0,c.Z)(e.get("email")),onSuccess:()=>{r.success("(OTP) تم إرسال كلمة المرور لمرة واحدة بنجاح "),t.push(`/forget_password/token?email=${e}`)},onError:e=>{try{let t=JSON.parse(e.message);Array.isArray(t)?t.forEach(e=>{e&&"object"==typeof e&&"message"in e&&r.error(e.message)}):r.error(e.message)}catch(t){r.error(e.message)}}})}(t),{counter:f,setCounter:g}=(0,d.C)();return(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),0===f&&(g(60),p(new FormData(e.currentTarget)))},className:"flex flex-col items-end gap-3 py-5","data-sentry-component":"ForgotPasswordForm","data-sentry-source-file":"ForgotPasswordForm.tsx",children:[s.jsx("h1",{className:"text-left text-xl font-semibold",children:"إعادة تعيين كلمة المرور"}),s.jsx("h1",{className:"text-right text-xl",children:"أدخل عنوان البريد الإلكتروني المرتبط بحسابك و سنرسل لك رابطا لإعادة تعيين كلمة المرور"}),s.jsx("label",{htmlFor:"email",children:"البريد الإلكتروني*"}),(0,s.jsxs)("div",{onFocus:()=>r(!0),onBlur:()=>r(!1),className:`${e&&"border-emerald-700"} flex h-[3rem] w-full justify-end gap-2 rounded-md border p-2 transition-all duration-300 focus:border focus:border-emerald-400`,children:[s.jsx("input",{id:"email",name:"email",value:t,onChange:e=>l(e.target.value),className:"h-[30px] flex-1 bg-inherit outline-none",type:"email",dir:"rtl"}),s.jsx(o.default,{width:30,height:30,src:"/auth/envelope.svg",className:"",alt:"envelope","data-sentry-element":"Image","data-sentry-source-file":"ForgotPasswordForm.tsx"})]}),s.jsx("button",{type:"submit",style:{background:"#27A098"},className:`text-md w-full rounded-md p-3 text-center font-semibold text-white ${f>0?"cursor-not-allowed opacity-50":""}`,children:"مواصلة"})]})}},70278:(e,r,t)=>{"use strict";t.d(r,{C:()=>i,CounterProvider:()=>n});var s=t(31403),o=t(39307);let a=(0,o.createContext)(void 0);function n({children:e}){let[r,t]=(0,o.useState)(60);return s.jsx(a.Provider,{value:{counter:r,setCounter:t},"data-sentry-element":"unknown","data-sentry-component":"CounterProvider","data-sentry-source-file":"CounterProvider.tsx",children:e})}function i(){let e=(0,o.useContext)(a);if(!e)throw Error("useCounter must be used within a PageProvider");return{counter:e.counter,setCounter:e.setCounter}}},82021:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n}),t(53001);let s=(0,t(41228).$)("ca46bb2487e9ee46055dae471e43218f96c9fd1f");var o=t(88997);let a=o.z.object({email:o.z.string().email("عنوان البريد الإلكتروني غير صالح")});async function n(e){let r=a.parse({email:e}),{error:t}=await s(r.email);if(t)throw Error(t);return{success:!0,message:""}}},75546:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(33098);t(16355);var o=t(15856),a=t(20747);let n=(0,o.e)();async function i(e){let{error:r}=await n.auth.signInWithOtp({email:e,options:{shouldCreateUser:!1}});return r?{error:"حدث خطأ ما، يرجى المحاولة مرة أخرى"}:{error:null}}(0,a.h)([i]),(0,s.j)("ca46bb2487e9ee46055dae471e43218f96c9fd1f",i)},74719:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(71608);t(40810);let o={users:{getUsers:()=>"/users",updateUser:e=>`/users/${e}`,getUser:e=>`/users/${e}`,getMe:()=>"/users/me",updateMe:()=>"/users/me"},books:{getBookId:e=>`/books/${e}`,getBooks:()=>"/books",updateBook:e=>`/books/${e}`,createBook:()=>"/books",deleteBook:e=>`/books/${e}`,addCategory:(e,r)=>`/books/${e}/categories/${r}`,addSubCategory:(e,r)=>`/books/${e}/subcategories/${r}`,removeCategory:(e,r)=>`/books/${e}/categories/${r}`,removeSubCategory:(e,r)=>`/books/${e}/subcategories/${r}`},categories:{getCategories:()=>"/Categories",updateCategory:e=>`/Categories/${e}`,createCategory:()=>"/Categories",deleteCategory:e=>`/Categories/${e}`},cover_types:{getCoverTypes:()=>"/cover_types",updateCoverType:e=>`/cover_types/${e}`,createCoverType:()=>"/cover_types",deleteCoverType:e=>`/cover_types/${e}`},publish_houses:{getPublishHouses:()=>"/share_houses",updatePublishHouse:e=>`/share_houses/${e}`,createPublishHouse:()=>"/share_houses",deletePublishHouse:e=>`/share_houses/${e}`},subcategories:{getSubCategories:()=>"/subcategories",updateSubCategory:e=>`/subcategories/${e}`,createSubCategory:()=>"/subCategories",deleteSubCategory:e=>`/subcategories/${e}`},writers:{getWriters:()=>"/writers",updateWriter:e=>`/writers/${e}`,createWriter:()=>"/writers",deleteWriter:e=>`/writers/${e}`},corners:{getCorners:()=>"/corners",updateCorner:e=>`/corners/${e}`,createCorner:()=>"/corners",deleteCorner:e=>`/corners/${e}`},orders:{getMyOrders:()=>"/orders/me",getOrderId:e=>`/orders/${e}`,getOrders:()=>"/orders",updateOrder:e=>`/orders/${e}`,createOrder:()=>"/orders",deleteOrder:e=>`/orders/${e}`},events:{getEvents:()=>"/events",updateEvent:e=>`/events/${e}`,createEvent:()=>"/events",deleteEvent:e=>`/events/${e}`,getEventById:e=>`/events/${e}`},banners:{getBanners:()=>"/banners",updateBanner:e=>`/banners/${e}`,createBanner:()=>"/banners",deleteBanner:e=>`/banners/${e}`},wishlist:{getWishlist:()=>"/wishlist/me",createWishlist:()=>"/wishlist",deleteWishlist:e=>`/wishlist/${e}`}};var a=t(44772);async function n(){let e=function({resource:e,action:r}){return o[e][r]}({resource:"users",action:"getMe"}),{data:r,error:t}=await (0,a.default)({method:"GET",url:e()});return{error:t,data:{user:r}}}(0,t(77068).h)([n]),(0,s.j)("2e32ad85c09f05479470641f63c6e19679667730",n)},68323:(e,r,t)=>{"use strict";t.d(r,{e:()=>a});var s=t(4221),o=t(11163);function a(){let e=(0,o.cookies)();return(0,s.createServerClient)("https://mqisujmkeqaqwppsnnww.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1xaXN1am1rZXFhcXdwcHNubnd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjc4MDEyMjksImV4cCI6MjA0MzM3NzIyOX0.TIWb9bPwCeKJqdZJu8BP4e6mten0lSCv3MCE1Ii9gbg",{cookies:{getAll:()=>e.getAll(),setAll(r){try{r.forEach(({name:r,value:t,options:s})=>e.set(r,t,s))}catch{}}}})}},44772:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(71608);t(40810);var o=t(13276),a=t(68323);async function n({url:e,method:r,payload:t}){try{let s=(0,a.e)(),n=await s.auth.getSession(),i=n.data.session?.access_token,u={accept:"application/json","content-type":"application/json"};i&&(u={...u,Authorization:`Bearer ${i}`});let c=o.Z.create({baseURL:process.env.BACKEND_URL,timeout:0,headers:u});return{data:(await c.request({method:r,url:e,data:t||{}})).data,error:null,validationErrors:null}}catch(e){if(!o.Z.isAxiosError(e))return{data:null,error:e.message,validationErrors:null};{let r=e.response?.data;if(r.errors)return{data:null,error:e.message,validationErrors:r.errors};return{data:null,error:e.message,validationErrors:null}}}}(0,t(77068).h)([n]),(0,s.j)("4cff84bc16a182ce9e639f8d1157bd16e56a5a1f",n)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9918,1069,7494,2612,8997,2072,2049,315],()=>t(59373));module.exports=s})();
//# sourceMappingURL=page.js.map