{"version":3,"file":"603.js","mappings":"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","sources":["webpack://iwan-front/../src/Presence.tsx","webpack://iwan-front/../src/useStateMachine.tsx","webpack://iwan-front/../src/ScrollArea.tsx","webpack://iwan-front/../src/useStateMachine.ts"],"sourcesContent":["import * as React from 'react';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { useStateMachine } from './useStateMachine';\n\ninterface PresenceProps {\n  children: React.ReactElement | ((props: { present: boolean }) => React.ReactElement);\n  present: boolean;\n}\n\nconst Presence: React.FC<PresenceProps> = (props) => {\n  const { present, children } = props;\n  const presence = usePresence(present);\n\n  const child = (\n    typeof children === 'function'\n      ? children({ present: presence.isPresent })\n      : React.Children.only(children)\n  ) as React.ReactElement;\n\n  const ref = useComposedRefs(presence.ref, getElementRef(child));\n  const forceMount = typeof children === 'function';\n  return forceMount || presence.isPresent ? React.cloneElement(child, { ref }) : null;\n};\n\nPresence.displayName = 'Presence';\n\n/* -------------------------------------------------------------------------------------------------\n * usePresence\n * -----------------------------------------------------------------------------------------------*/\n\nfunction usePresence(present: boolean) {\n  const [node, setNode] = React.useState<HTMLElement>();\n  const stylesRef = React.useRef<CSSStyleDeclaration>({} as any);\n  const prevPresentRef = React.useRef(present);\n  const prevAnimationNameRef = React.useRef<string>('none');\n  const initialState = present ? 'mounted' : 'unmounted';\n  const [state, send] = useStateMachine(initialState, {\n    mounted: {\n      UNMOUNT: 'unmounted',\n      ANIMATION_OUT: 'unmountSuspended',\n    },\n    unmountSuspended: {\n      MOUNT: 'mounted',\n      ANIMATION_END: 'unmounted',\n    },\n    unmounted: {\n      MOUNT: 'mounted',\n    },\n  });\n\n  React.useEffect(() => {\n    const currentAnimationName = getAnimationName(stylesRef.current);\n    prevAnimationNameRef.current = state === 'mounted' ? currentAnimationName : 'none';\n  }, [state]);\n\n  useLayoutEffect(() => {\n    const styles = stylesRef.current;\n    const wasPresent = prevPresentRef.current;\n    const hasPresentChanged = wasPresent !== present;\n\n    if (hasPresentChanged) {\n      const prevAnimationName = prevAnimationNameRef.current;\n      const currentAnimationName = getAnimationName(styles);\n\n      if (present) {\n        send('MOUNT');\n      } else if (currentAnimationName === 'none' || styles?.display === 'none') {\n        // If there is no exit animation or the element is hidden, animations won't run\n        // so we unmount instantly\n        send('UNMOUNT');\n      } else {\n        /**\n         * When `present` changes to `false`, we check changes to animation-name to\n         * determine whether an animation has started. We chose this approach (reading\n         * computed styles) because there is no `animationrun` event and `animationstart`\n         * fires after `animation-delay` has expired which would be too late.\n         */\n        const isAnimating = prevAnimationName !== currentAnimationName;\n\n        if (wasPresent && isAnimating) {\n          send('ANIMATION_OUT');\n        } else {\n          send('UNMOUNT');\n        }\n      }\n\n      prevPresentRef.current = present;\n    }\n  }, [present, send]);\n\n  useLayoutEffect(() => {\n    if (node) {\n      let timeoutId: number;\n      const ownerWindow = node.ownerDocument.defaultView ?? window;\n      /**\n       * Triggering an ANIMATION_OUT during an ANIMATION_IN will fire an `animationcancel`\n       * event for ANIMATION_IN after we have entered `unmountSuspended` state. So, we\n       * make sure we only trigger ANIMATION_END for the currently active animation.\n       */\n      const handleAnimationEnd = (event: AnimationEvent) => {\n        const currentAnimationName = getAnimationName(stylesRef.current);\n        const isCurrentAnimation = currentAnimationName.includes(event.animationName);\n        if (event.target === node && isCurrentAnimation) {\n          // With React 18 concurrency this update is applied a frame after the\n          // animation ends, creating a flash of visible content. By setting the\n          // animation fill mode to \"forwards\", we force the node to keep the\n          // styles of the last keyframe, removing the flash.\n          //\n          // Previously we flushed the update via ReactDom.flushSync, but with\n          // exit animations this resulted in the node being removed from the\n          // DOM before the synthetic animationEnd event was dispatched, meaning\n          // user-provided event handlers would not be called.\n          // https://github.com/radix-ui/primitives/pull/1849\n          send('ANIMATION_END');\n          if (!prevPresentRef.current) {\n            const currentFillMode = node.style.animationFillMode;\n            node.style.animationFillMode = 'forwards';\n            // Reset the style after the node had time to unmount (for cases\n            // where the component chooses not to unmount). Doing this any\n            // sooner than `setTimeout` (e.g. with `requestAnimationFrame`)\n            // still causes a flash.\n            timeoutId = ownerWindow.setTimeout(() => {\n              if (node.style.animationFillMode === 'forwards') {\n                node.style.animationFillMode = currentFillMode;\n              }\n            });\n          }\n        }\n      };\n      const handleAnimationStart = (event: AnimationEvent) => {\n        if (event.target === node) {\n          // if animation occurred, store its name as the previous animation.\n          prevAnimationNameRef.current = getAnimationName(stylesRef.current);\n        }\n      };\n      node.addEventListener('animationstart', handleAnimationStart);\n      node.addEventListener('animationcancel', handleAnimationEnd);\n      node.addEventListener('animationend', handleAnimationEnd);\n      return () => {\n        ownerWindow.clearTimeout(timeoutId);\n        node.removeEventListener('animationstart', handleAnimationStart);\n        node.removeEventListener('animationcancel', handleAnimationEnd);\n        node.removeEventListener('animationend', handleAnimationEnd);\n      };\n    } else {\n      // Transition to the unmounted state if the node is removed prematurely.\n      // We avoid doing so during cleanup as the node may change but still exist.\n      send('ANIMATION_END');\n    }\n  }, [node, send]);\n\n  return {\n    isPresent: ['mounted', 'unmountSuspended'].includes(state),\n    ref: React.useCallback((node: HTMLElement) => {\n      if (node) stylesRef.current = getComputedStyle(node);\n      setNode(node);\n    }, []),\n  };\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getAnimationName(styles?: CSSStyleDeclaration) {\n  return styles?.animationName || 'none';\n}\n\n// Before React 19 accessing `element.props.ref` will throw a warning and suggest using `element.ref`\n// After React 19 accessing `element.ref` does the opposite.\n// https://github.com/facebook/react/pull/28348\n//\n// Access the ref using the method that doesn't yield a warning.\nfunction getElementRef(element: React.ReactElement) {\n  // React <=18 in DEV\n  let getter = Object.getOwnPropertyDescriptor(element.props, 'ref')?.get;\n  let mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element as any).ref;\n  }\n\n  // React 19 in DEV\n  getter = Object.getOwnPropertyDescriptor(element, 'ref')?.get;\n  mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n\n  // Not DEV\n  return element.props.ref || (element as any).ref;\n}\n\nexport { Presence };\nexport type { PresenceProps };\n","import * as React from 'react';\n\ntype Machine<S> = { [k: string]: { [k: string]: S } };\ntype MachineState<T> = keyof T;\ntype MachineEvent<T> = keyof UnionToIntersection<T[keyof T]>;\n\n// ðŸ¤¯ https://fettblog.eu/typescript-union-to-intersection/\ntype UnionToIntersection<T> = (T extends any ? (x: T) => any : never) extends (x: infer R) => any\n  ? R\n  : never;\n\nexport function useStateMachine<M>(\n  initialState: MachineState<M>,\n  machine: M & Machine<MachineState<M>>\n) {\n  return React.useReducer((state: MachineState<M>, event: MachineEvent<M>): MachineState<M> => {\n    const nextState = (machine[state] as any)[event];\n    return nextState ?? state;\n  }, initialState);\n}\n","/// <reference types=\"resize-observer-browser\" />\n\nimport * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Presence } from '@radix-ui/react-presence';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { clamp } from '@radix-ui/number';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useStateMachine } from './useStateMachine';\n\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\ntype Sizes = {\n  content: number;\n  viewport: number;\n  scrollbar: {\n    size: number;\n    paddingStart: number;\n    paddingEnd: number;\n  };\n};\n\n/* -------------------------------------------------------------------------------------------------\n * ScrollArea\n * -----------------------------------------------------------------------------------------------*/\n\nconst SCROLL_AREA_NAME = 'ScrollArea';\n\ntype ScopedProps<P> = P & { __scopeScrollArea?: Scope };\nconst [createScrollAreaContext, createScrollAreaScope] = createContextScope(SCROLL_AREA_NAME);\n\ntype ScrollAreaContextValue = {\n  type: 'auto' | 'always' | 'scroll' | 'hover';\n  dir: Direction;\n  scrollHideDelay: number;\n  scrollArea: ScrollAreaElement | null;\n  viewport: ScrollAreaViewportElement | null;\n  onViewportChange(viewport: ScrollAreaViewportElement | null): void;\n  content: HTMLDivElement | null;\n  onContentChange(content: HTMLDivElement): void;\n  scrollbarX: ScrollAreaScrollbarElement | null;\n  onScrollbarXChange(scrollbar: ScrollAreaScrollbarElement | null): void;\n  scrollbarXEnabled: boolean;\n  onScrollbarXEnabledChange(rendered: boolean): void;\n  scrollbarY: ScrollAreaScrollbarElement | null;\n  onScrollbarYChange(scrollbar: ScrollAreaScrollbarElement | null): void;\n  scrollbarYEnabled: boolean;\n  onScrollbarYEnabledChange(rendered: boolean): void;\n  onCornerWidthChange(width: number): void;\n  onCornerHeightChange(height: number): void;\n};\n\nconst [ScrollAreaProvider, useScrollAreaContext] =\n  createScrollAreaContext<ScrollAreaContextValue>(SCROLL_AREA_NAME);\n\ntype ScrollAreaElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface ScrollAreaProps extends PrimitiveDivProps {\n  type?: ScrollAreaContextValue['type'];\n  dir?: ScrollAreaContextValue['dir'];\n  scrollHideDelay?: number;\n}\n\nconst ScrollArea = React.forwardRef<ScrollAreaElement, ScrollAreaProps>(\n  (props: ScopedProps<ScrollAreaProps>, forwardedRef) => {\n    const {\n      __scopeScrollArea,\n      type = 'hover',\n      dir,\n      scrollHideDelay = 600,\n      ...scrollAreaProps\n    } = props;\n    const [scrollArea, setScrollArea] = React.useState<ScrollAreaElement | null>(null);\n    const [viewport, setViewport] = React.useState<ScrollAreaViewportElement | null>(null);\n    const [content, setContent] = React.useState<HTMLDivElement | null>(null);\n    const [scrollbarX, setScrollbarX] = React.useState<ScrollAreaScrollbarElement | null>(null);\n    const [scrollbarY, setScrollbarY] = React.useState<ScrollAreaScrollbarElement | null>(null);\n    const [cornerWidth, setCornerWidth] = React.useState(0);\n    const [cornerHeight, setCornerHeight] = React.useState(0);\n    const [scrollbarXEnabled, setScrollbarXEnabled] = React.useState(false);\n    const [scrollbarYEnabled, setScrollbarYEnabled] = React.useState(false);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setScrollArea(node));\n    const direction = useDirection(dir);\n\n    return (\n      <ScrollAreaProvider\n        scope={__scopeScrollArea}\n        type={type}\n        dir={direction}\n        scrollHideDelay={scrollHideDelay}\n        scrollArea={scrollArea}\n        viewport={viewport}\n        onViewportChange={setViewport}\n        content={content}\n        onContentChange={setContent}\n        scrollbarX={scrollbarX}\n        onScrollbarXChange={setScrollbarX}\n        scrollbarXEnabled={scrollbarXEnabled}\n        onScrollbarXEnabledChange={setScrollbarXEnabled}\n        scrollbarY={scrollbarY}\n        onScrollbarYChange={setScrollbarY}\n        scrollbarYEnabled={scrollbarYEnabled}\n        onScrollbarYEnabledChange={setScrollbarYEnabled}\n        onCornerWidthChange={setCornerWidth}\n        onCornerHeightChange={setCornerHeight}\n      >\n        <Primitive.div\n          dir={direction}\n          {...scrollAreaProps}\n          ref={composedRefs}\n          style={{\n            position: 'relative',\n            // Pass corner sizes as CSS vars to reduce re-renders of context consumers\n            ['--radix-scroll-area-corner-width' as any]: cornerWidth + 'px',\n            ['--radix-scroll-area-corner-height' as any]: cornerHeight + 'px',\n            ...props.style,\n          }}\n        />\n      </ScrollAreaProvider>\n    );\n  }\n);\n\nScrollArea.displayName = SCROLL_AREA_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ScrollAreaViewport\n * -----------------------------------------------------------------------------------------------*/\n\nconst VIEWPORT_NAME = 'ScrollAreaViewport';\n\ntype ScrollAreaViewportElement = React.ElementRef<typeof Primitive.div>;\ninterface ScrollAreaViewportProps extends PrimitiveDivProps {\n  nonce?: string;\n}\n\nconst ScrollAreaViewport = React.forwardRef<ScrollAreaViewportElement, ScrollAreaViewportProps>(\n  (props: ScopedProps<ScrollAreaViewportProps>, forwardedRef) => {\n    const { __scopeScrollArea, children, nonce, ...viewportProps } = props;\n    const context = useScrollAreaContext(VIEWPORT_NAME, __scopeScrollArea);\n    const ref = React.useRef<ScrollAreaViewportElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onViewportChange);\n    return (\n      <>\n        {/* Hide scrollbars cross-browser and enable momentum scroll for touch devices */}\n        <style\n          dangerouslySetInnerHTML={{\n            __html: `[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}`,\n          }}\n          nonce={nonce}\n        />\n        <Primitive.div\n          data-radix-scroll-area-viewport=\"\"\n          {...viewportProps}\n          ref={composedRefs}\n          style={{\n            /**\n             * We don't support `visible` because the intention is to have at least one scrollbar\n             * if this component is used and `visible` will behave like `auto` in that case\n             * https://developer.mozilla.org/en-US/docs/Web/CSS/overflow#description\n             *\n             * We don't handle `auto` because the intention is for the native implementation\n             * to be hidden if using this component. We just want to ensure the node is scrollable\n             * so could have used either `scroll` or `auto` here. We picked `scroll` to prevent\n             * the browser from having to work out whether to render native scrollbars or not,\n             * we tell it to with the intention of hiding them in CSS.\n             */\n            overflowX: context.scrollbarXEnabled ? 'scroll' : 'hidden',\n            overflowY: context.scrollbarYEnabled ? 'scroll' : 'hidden',\n            ...props.style,\n          }}\n        >\n          {/**\n           * `display: table` ensures our content div will match the size of its children in both\n           * horizontal and vertical axis so we can determine if scroll width/height changed and\n           * recalculate thumb sizes. This doesn't account for children with *percentage*\n           * widths that change. We'll wait to see what use-cases consumers come up with there\n           * before trying to resolve it.\n           */}\n          <div ref={context.onContentChange} style={{ minWidth: '100%', display: 'table' }}>\n            {children}\n          </div>\n        </Primitive.div>\n      </>\n    );\n  }\n);\n\nScrollAreaViewport.displayName = VIEWPORT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ScrollAreaScrollbar\n * -----------------------------------------------------------------------------------------------*/\n\nconst SCROLLBAR_NAME = 'ScrollAreaScrollbar';\n\ntype ScrollAreaScrollbarElement = ScrollAreaScrollbarVisibleElement;\ninterface ScrollAreaScrollbarProps extends ScrollAreaScrollbarVisibleProps {\n  forceMount?: true;\n}\n\nconst ScrollAreaScrollbar = React.forwardRef<ScrollAreaScrollbarElement, ScrollAreaScrollbarProps>(\n  (props: ScopedProps<ScrollAreaScrollbarProps>, forwardedRef) => {\n    const { forceMount, ...scrollbarProps } = props;\n    const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n    const { onScrollbarXEnabledChange, onScrollbarYEnabledChange } = context;\n    const isHorizontal = props.orientation === 'horizontal';\n\n    React.useEffect(() => {\n      isHorizontal ? onScrollbarXEnabledChange(true) : onScrollbarYEnabledChange(true);\n      return () => {\n        isHorizontal ? onScrollbarXEnabledChange(false) : onScrollbarYEnabledChange(false);\n      };\n    }, [isHorizontal, onScrollbarXEnabledChange, onScrollbarYEnabledChange]);\n\n    return context.type === 'hover' ? (\n      <ScrollAreaScrollbarHover {...scrollbarProps} ref={forwardedRef} forceMount={forceMount} />\n    ) : context.type === 'scroll' ? (\n      <ScrollAreaScrollbarScroll {...scrollbarProps} ref={forwardedRef} forceMount={forceMount} />\n    ) : context.type === 'auto' ? (\n      <ScrollAreaScrollbarAuto {...scrollbarProps} ref={forwardedRef} forceMount={forceMount} />\n    ) : context.type === 'always' ? (\n      <ScrollAreaScrollbarVisible {...scrollbarProps} ref={forwardedRef} />\n    ) : null;\n  }\n);\n\nScrollAreaScrollbar.displayName = SCROLLBAR_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ScrollAreaScrollbarHoverElement = ScrollAreaScrollbarAutoElement;\ninterface ScrollAreaScrollbarHoverProps extends ScrollAreaScrollbarAutoProps {\n  forceMount?: true;\n}\n\nconst ScrollAreaScrollbarHover = React.forwardRef<\n  ScrollAreaScrollbarHoverElement,\n  ScrollAreaScrollbarHoverProps\n>((props: ScopedProps<ScrollAreaScrollbarHoverProps>, forwardedRef) => {\n  const { forceMount, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const [visible, setVisible] = React.useState(false);\n\n  React.useEffect(() => {\n    const scrollArea = context.scrollArea;\n    let hideTimer = 0;\n    if (scrollArea) {\n      const handlePointerEnter = () => {\n        window.clearTimeout(hideTimer);\n        setVisible(true);\n      };\n      const handlePointerLeave = () => {\n        hideTimer = window.setTimeout(() => setVisible(false), context.scrollHideDelay);\n      };\n      scrollArea.addEventListener('pointerenter', handlePointerEnter);\n      scrollArea.addEventListener('pointerleave', handlePointerLeave);\n      return () => {\n        window.clearTimeout(hideTimer);\n        scrollArea.removeEventListener('pointerenter', handlePointerEnter);\n        scrollArea.removeEventListener('pointerleave', handlePointerLeave);\n      };\n    }\n  }, [context.scrollArea, context.scrollHideDelay]);\n\n  return (\n    <Presence present={forceMount || visible}>\n      <ScrollAreaScrollbarAuto\n        data-state={visible ? 'visible' : 'hidden'}\n        {...scrollbarProps}\n        ref={forwardedRef}\n      />\n    </Presence>\n  );\n});\n\ntype ScrollAreaScrollbarScrollElement = ScrollAreaScrollbarVisibleElement;\ninterface ScrollAreaScrollbarScrollProps extends ScrollAreaScrollbarVisibleProps {\n  forceMount?: true;\n}\n\nconst ScrollAreaScrollbarScroll = React.forwardRef<\n  ScrollAreaScrollbarScrollElement,\n  ScrollAreaScrollbarScrollProps\n>((props: ScopedProps<ScrollAreaScrollbarScrollProps>, forwardedRef) => {\n  const { forceMount, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const isHorizontal = props.orientation === 'horizontal';\n  const debounceScrollEnd = useDebounceCallback(() => send('SCROLL_END'), 100);\n  const [state, send] = useStateMachine('hidden', {\n    hidden: {\n      SCROLL: 'scrolling',\n    },\n    scrolling: {\n      SCROLL_END: 'idle',\n      POINTER_ENTER: 'interacting',\n    },\n    interacting: {\n      SCROLL: 'interacting',\n      POINTER_LEAVE: 'idle',\n    },\n    idle: {\n      HIDE: 'hidden',\n      SCROLL: 'scrolling',\n      POINTER_ENTER: 'interacting',\n    },\n  });\n\n  React.useEffect(() => {\n    if (state === 'idle') {\n      const hideTimer = window.setTimeout(() => send('HIDE'), context.scrollHideDelay);\n      return () => window.clearTimeout(hideTimer);\n    }\n  }, [state, context.scrollHideDelay, send]);\n\n  React.useEffect(() => {\n    const viewport = context.viewport;\n    const scrollDirection = isHorizontal ? 'scrollLeft' : 'scrollTop';\n\n    if (viewport) {\n      let prevScrollPos = viewport[scrollDirection];\n      const handleScroll = () => {\n        const scrollPos = viewport[scrollDirection];\n        const hasScrollInDirectionChanged = prevScrollPos !== scrollPos;\n        if (hasScrollInDirectionChanged) {\n          send('SCROLL');\n          debounceScrollEnd();\n        }\n        prevScrollPos = scrollPos;\n      };\n      viewport.addEventListener('scroll', handleScroll);\n      return () => viewport.removeEventListener('scroll', handleScroll);\n    }\n  }, [context.viewport, isHorizontal, send, debounceScrollEnd]);\n\n  return (\n    <Presence present={forceMount || state !== 'hidden'}>\n      <ScrollAreaScrollbarVisible\n        data-state={state === 'hidden' ? 'hidden' : 'visible'}\n        {...scrollbarProps}\n        ref={forwardedRef}\n        onPointerEnter={composeEventHandlers(props.onPointerEnter, () => send('POINTER_ENTER'))}\n        onPointerLeave={composeEventHandlers(props.onPointerLeave, () => send('POINTER_LEAVE'))}\n      />\n    </Presence>\n  );\n});\n\ntype ScrollAreaScrollbarAutoElement = ScrollAreaScrollbarVisibleElement;\ninterface ScrollAreaScrollbarAutoProps extends ScrollAreaScrollbarVisibleProps {\n  forceMount?: true;\n}\n\nconst ScrollAreaScrollbarAuto = React.forwardRef<\n  ScrollAreaScrollbarAutoElement,\n  ScrollAreaScrollbarAutoProps\n>((props: ScopedProps<ScrollAreaScrollbarAutoProps>, forwardedRef) => {\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const { forceMount, ...scrollbarProps } = props;\n  const [visible, setVisible] = React.useState(false);\n  const isHorizontal = props.orientation === 'horizontal';\n  const handleResize = useDebounceCallback(() => {\n    if (context.viewport) {\n      const isOverflowX = context.viewport.offsetWidth < context.viewport.scrollWidth;\n      const isOverflowY = context.viewport.offsetHeight < context.viewport.scrollHeight;\n      setVisible(isHorizontal ? isOverflowX : isOverflowY);\n    }\n  }, 10);\n\n  useResizeObserver(context.viewport, handleResize);\n  useResizeObserver(context.content, handleResize);\n\n  return (\n    <Presence present={forceMount || visible}>\n      <ScrollAreaScrollbarVisible\n        data-state={visible ? 'visible' : 'hidden'}\n        {...scrollbarProps}\n        ref={forwardedRef}\n      />\n    </Presence>\n  );\n});\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ScrollAreaScrollbarVisibleElement = ScrollAreaScrollbarAxisElement;\ninterface ScrollAreaScrollbarVisibleProps\n  extends Omit<ScrollAreaScrollbarAxisProps, keyof ScrollAreaScrollbarAxisPrivateProps> {\n  orientation?: 'horizontal' | 'vertical';\n}\n\nconst ScrollAreaScrollbarVisible = React.forwardRef<\n  ScrollAreaScrollbarVisibleElement,\n  ScrollAreaScrollbarVisibleProps\n>((props: ScopedProps<ScrollAreaScrollbarVisibleProps>, forwardedRef) => {\n  const { orientation = 'vertical', ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const thumbRef = React.useRef<ScrollAreaThumbElement | null>(null);\n  const pointerOffsetRef = React.useRef(0);\n  const [sizes, setSizes] = React.useState<Sizes>({\n    content: 0,\n    viewport: 0,\n    scrollbar: { size: 0, paddingStart: 0, paddingEnd: 0 },\n  });\n  const thumbRatio = getThumbRatio(sizes.viewport, sizes.content);\n\n  type UncommonProps = 'onThumbPositionChange' | 'onDragScroll' | 'onWheelScroll';\n  const commonProps: Omit<ScrollAreaScrollbarAxisPrivateProps, UncommonProps> = {\n    ...scrollbarProps,\n    sizes,\n    onSizesChange: setSizes,\n    hasThumb: Boolean(thumbRatio > 0 && thumbRatio < 1),\n    onThumbChange: (thumb) => (thumbRef.current = thumb),\n    onThumbPointerUp: () => (pointerOffsetRef.current = 0),\n    onThumbPointerDown: (pointerPos) => (pointerOffsetRef.current = pointerPos),\n  };\n\n  function getScrollPosition(pointerPos: number, dir?: Direction) {\n    return getScrollPositionFromPointer(pointerPos, pointerOffsetRef.current, sizes, dir);\n  }\n\n  if (orientation === 'horizontal') {\n    return (\n      <ScrollAreaScrollbarX\n        {...commonProps}\n        ref={forwardedRef}\n        onThumbPositionChange={() => {\n          if (context.viewport && thumbRef.current) {\n            const scrollPos = context.viewport.scrollLeft;\n            const offset = getThumbOffsetFromScroll(scrollPos, sizes, context.dir);\n            thumbRef.current.style.transform = `translate3d(${offset}px, 0, 0)`;\n          }\n        }}\n        onWheelScroll={(scrollPos) => {\n          if (context.viewport) context.viewport.scrollLeft = scrollPos;\n        }}\n        onDragScroll={(pointerPos) => {\n          if (context.viewport) {\n            context.viewport.scrollLeft = getScrollPosition(pointerPos, context.dir);\n          }\n        }}\n      />\n    );\n  }\n\n  if (orientation === 'vertical') {\n    return (\n      <ScrollAreaScrollbarY\n        {...commonProps}\n        ref={forwardedRef}\n        onThumbPositionChange={() => {\n          if (context.viewport && thumbRef.current) {\n            const scrollPos = context.viewport.scrollTop;\n            const offset = getThumbOffsetFromScroll(scrollPos, sizes);\n            thumbRef.current.style.transform = `translate3d(0, ${offset}px, 0)`;\n          }\n        }}\n        onWheelScroll={(scrollPos) => {\n          if (context.viewport) context.viewport.scrollTop = scrollPos;\n        }}\n        onDragScroll={(pointerPos) => {\n          if (context.viewport) context.viewport.scrollTop = getScrollPosition(pointerPos);\n        }}\n      />\n    );\n  }\n\n  return null;\n});\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ScrollAreaScrollbarAxisPrivateProps = {\n  hasThumb: boolean;\n  sizes: Sizes;\n  onSizesChange(sizes: Sizes): void;\n  onThumbChange(thumb: ScrollAreaThumbElement | null): void;\n  onThumbPointerDown(pointerPos: number): void;\n  onThumbPointerUp(): void;\n  onThumbPositionChange(): void;\n  onWheelScroll(scrollPos: number): void;\n  onDragScroll(pointerPos: number): void;\n};\n\ntype ScrollAreaScrollbarAxisElement = ScrollAreaScrollbarImplElement;\ninterface ScrollAreaScrollbarAxisProps\n  extends Omit<ScrollAreaScrollbarImplProps, keyof ScrollAreaScrollbarImplPrivateProps>,\n    ScrollAreaScrollbarAxisPrivateProps {}\n\nconst ScrollAreaScrollbarX = React.forwardRef<\n  ScrollAreaScrollbarAxisElement,\n  ScrollAreaScrollbarAxisProps\n>((props: ScopedProps<ScrollAreaScrollbarAxisProps>, forwardedRef) => {\n  const { sizes, onSizesChange, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const [computedStyle, setComputedStyle] = React.useState<CSSStyleDeclaration>();\n  const ref = React.useRef<ScrollAreaScrollbarAxisElement>(null);\n  const composeRefs = useComposedRefs(forwardedRef, ref, context.onScrollbarXChange);\n\n  React.useEffect(() => {\n    if (ref.current) setComputedStyle(getComputedStyle(ref.current));\n  }, [ref]);\n\n  return (\n    <ScrollAreaScrollbarImpl\n      data-orientation=\"horizontal\"\n      {...scrollbarProps}\n      ref={composeRefs}\n      sizes={sizes}\n      style={{\n        bottom: 0,\n        left: context.dir === 'rtl' ? 'var(--radix-scroll-area-corner-width)' : 0,\n        right: context.dir === 'ltr' ? 'var(--radix-scroll-area-corner-width)' : 0,\n        ['--radix-scroll-area-thumb-width' as any]: getThumbSize(sizes) + 'px',\n        ...props.style,\n      }}\n      onThumbPointerDown={(pointerPos) => props.onThumbPointerDown(pointerPos.x)}\n      onDragScroll={(pointerPos) => props.onDragScroll(pointerPos.x)}\n      onWheelScroll={(event, maxScrollPos) => {\n        if (context.viewport) {\n          const scrollPos = context.viewport.scrollLeft + event.deltaX;\n          props.onWheelScroll(scrollPos);\n          // prevent window scroll when wheeling on scrollbar\n          if (isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos)) {\n            event.preventDefault();\n          }\n        }\n      }}\n      onResize={() => {\n        if (ref.current && context.viewport && computedStyle) {\n          onSizesChange({\n            content: context.viewport.scrollWidth,\n            viewport: context.viewport.offsetWidth,\n            scrollbar: {\n              size: ref.current.clientWidth,\n              paddingStart: toInt(computedStyle.paddingLeft),\n              paddingEnd: toInt(computedStyle.paddingRight),\n            },\n          });\n        }\n      }}\n    />\n  );\n});\n\nconst ScrollAreaScrollbarY = React.forwardRef<\n  ScrollAreaScrollbarAxisElement,\n  ScrollAreaScrollbarAxisProps\n>((props: ScopedProps<ScrollAreaScrollbarAxisProps>, forwardedRef) => {\n  const { sizes, onSizesChange, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const [computedStyle, setComputedStyle] = React.useState<CSSStyleDeclaration>();\n  const ref = React.useRef<ScrollAreaScrollbarAxisElement>(null);\n  const composeRefs = useComposedRefs(forwardedRef, ref, context.onScrollbarYChange);\n\n  React.useEffect(() => {\n    if (ref.current) setComputedStyle(getComputedStyle(ref.current));\n  }, [ref]);\n\n  return (\n    <ScrollAreaScrollbarImpl\n      data-orientation=\"vertical\"\n      {...scrollbarProps}\n      ref={composeRefs}\n      sizes={sizes}\n      style={{\n        top: 0,\n        right: context.dir === 'ltr' ? 0 : undefined,\n        left: context.dir === 'rtl' ? 0 : undefined,\n        bottom: 'var(--radix-scroll-area-corner-height)',\n        ['--radix-scroll-area-thumb-height' as any]: getThumbSize(sizes) + 'px',\n        ...props.style,\n      }}\n      onThumbPointerDown={(pointerPos) => props.onThumbPointerDown(pointerPos.y)}\n      onDragScroll={(pointerPos) => props.onDragScroll(pointerPos.y)}\n      onWheelScroll={(event, maxScrollPos) => {\n        if (context.viewport) {\n          const scrollPos = context.viewport.scrollTop + event.deltaY;\n          props.onWheelScroll(scrollPos);\n          // prevent window scroll when wheeling on scrollbar\n          if (isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos)) {\n            event.preventDefault();\n          }\n        }\n      }}\n      onResize={() => {\n        if (ref.current && context.viewport && computedStyle) {\n          onSizesChange({\n            content: context.viewport.scrollHeight,\n            viewport: context.viewport.offsetHeight,\n            scrollbar: {\n              size: ref.current.clientHeight,\n              paddingStart: toInt(computedStyle.paddingTop),\n              paddingEnd: toInt(computedStyle.paddingBottom),\n            },\n          });\n        }\n      }}\n    />\n  );\n});\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ScrollbarContext = {\n  hasThumb: boolean;\n  scrollbar: ScrollAreaScrollbarElement | null;\n  onThumbChange(thumb: ScrollAreaThumbElement | null): void;\n  onThumbPointerUp(): void;\n  onThumbPointerDown(pointerPos: { x: number; y: number }): void;\n  onThumbPositionChange(): void;\n};\n\nconst [ScrollbarProvider, useScrollbarContext] =\n  createScrollAreaContext<ScrollbarContext>(SCROLLBAR_NAME);\n\ntype ScrollAreaScrollbarImplElement = React.ElementRef<typeof Primitive.div>;\ntype ScrollAreaScrollbarImplPrivateProps = {\n  sizes: Sizes;\n  hasThumb: boolean;\n  onThumbChange: ScrollbarContext['onThumbChange'];\n  onThumbPointerUp: ScrollbarContext['onThumbPointerUp'];\n  onThumbPointerDown: ScrollbarContext['onThumbPointerDown'];\n  onThumbPositionChange: ScrollbarContext['onThumbPositionChange'];\n  onWheelScroll(event: WheelEvent, maxScrollPos: number): void;\n  onDragScroll(pointerPos: { x: number; y: number }): void;\n  onResize(): void;\n};\ninterface ScrollAreaScrollbarImplProps\n  extends Omit<PrimitiveDivProps, keyof ScrollAreaScrollbarImplPrivateProps>,\n    ScrollAreaScrollbarImplPrivateProps {}\n\nconst ScrollAreaScrollbarImpl = React.forwardRef<\n  ScrollAreaScrollbarImplElement,\n  ScrollAreaScrollbarImplProps\n>((props: ScopedProps<ScrollAreaScrollbarImplProps>, forwardedRef) => {\n  const {\n    __scopeScrollArea,\n    sizes,\n    hasThumb,\n    onThumbChange,\n    onThumbPointerUp,\n    onThumbPointerDown,\n    onThumbPositionChange,\n    onDragScroll,\n    onWheelScroll,\n    onResize,\n    ...scrollbarProps\n  } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, __scopeScrollArea);\n  const [scrollbar, setScrollbar] = React.useState<ScrollAreaScrollbarElement | null>(null);\n  const composeRefs = useComposedRefs(forwardedRef, (node) => setScrollbar(node));\n  const rectRef = React.useRef<DOMRect | null>(null);\n  const prevWebkitUserSelectRef = React.useRef<string>('');\n  const viewport = context.viewport;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const handleWheelScroll = useCallbackRef(onWheelScroll);\n  const handleThumbPositionChange = useCallbackRef(onThumbPositionChange);\n  const handleResize = useDebounceCallback(onResize, 10);\n\n  function handleDragScroll(event: React.PointerEvent<HTMLElement>) {\n    if (rectRef.current) {\n      const x = event.clientX - rectRef.current.left;\n      const y = event.clientY - rectRef.current.top;\n      onDragScroll({ x, y });\n    }\n  }\n\n  /**\n   * We bind wheel event imperatively so we can switch off passive\n   * mode for document wheel event to allow it to be prevented\n   */\n  React.useEffect(() => {\n    const handleWheel = (event: WheelEvent) => {\n      const element = event.target as HTMLElement;\n      const isScrollbarWheel = scrollbar?.contains(element);\n      if (isScrollbarWheel) handleWheelScroll(event, maxScrollPos);\n    };\n    document.addEventListener('wheel', handleWheel, { passive: false });\n    return () => document.removeEventListener('wheel', handleWheel, { passive: false } as any);\n  }, [viewport, scrollbar, maxScrollPos, handleWheelScroll]);\n\n  /**\n   * Update thumb position on sizes change\n   */\n  React.useEffect(handleThumbPositionChange, [sizes, handleThumbPositionChange]);\n\n  useResizeObserver(scrollbar, handleResize);\n  useResizeObserver(context.content, handleResize);\n\n  return (\n    <ScrollbarProvider\n      scope={__scopeScrollArea}\n      scrollbar={scrollbar}\n      hasThumb={hasThumb}\n      onThumbChange={useCallbackRef(onThumbChange)}\n      onThumbPointerUp={useCallbackRef(onThumbPointerUp)}\n      onThumbPositionChange={handleThumbPositionChange}\n      onThumbPointerDown={useCallbackRef(onThumbPointerDown)}\n    >\n      <Primitive.div\n        {...scrollbarProps}\n        ref={composeRefs}\n        style={{ position: 'absolute', ...scrollbarProps.style }}\n        onPointerDown={composeEventHandlers(props.onPointerDown, (event) => {\n          const mainPointer = 0;\n          if (event.button === mainPointer) {\n            const element = event.target as HTMLElement;\n            element.setPointerCapture(event.pointerId);\n            rectRef.current = scrollbar!.getBoundingClientRect();\n            // pointer capture doesn't prevent text selection in Safari\n            // so we remove text selection manually when scrolling\n            prevWebkitUserSelectRef.current = document.body.style.webkitUserSelect;\n            document.body.style.webkitUserSelect = 'none';\n            if (context.viewport) context.viewport.style.scrollBehavior = 'auto';\n            handleDragScroll(event);\n          }\n        })}\n        onPointerMove={composeEventHandlers(props.onPointerMove, handleDragScroll)}\n        onPointerUp={composeEventHandlers(props.onPointerUp, (event) => {\n          const element = event.target as HTMLElement;\n          if (element.hasPointerCapture(event.pointerId)) {\n            element.releasePointerCapture(event.pointerId);\n          }\n          document.body.style.webkitUserSelect = prevWebkitUserSelectRef.current;\n          if (context.viewport) context.viewport.style.scrollBehavior = '';\n          rectRef.current = null;\n        })}\n      />\n    </ScrollbarProvider>\n  );\n});\n\n/* -------------------------------------------------------------------------------------------------\n * ScrollAreaThumb\n * -----------------------------------------------------------------------------------------------*/\n\nconst THUMB_NAME = 'ScrollAreaThumb';\n\ntype ScrollAreaThumbElement = ScrollAreaThumbImplElement;\ninterface ScrollAreaThumbProps extends ScrollAreaThumbImplProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst ScrollAreaThumb = React.forwardRef<ScrollAreaThumbElement, ScrollAreaThumbProps>(\n  (props: ScopedProps<ScrollAreaThumbProps>, forwardedRef) => {\n    const { forceMount, ...thumbProps } = props;\n    const scrollbarContext = useScrollbarContext(THUMB_NAME, props.__scopeScrollArea);\n    return (\n      <Presence present={forceMount || scrollbarContext.hasThumb}>\n        <ScrollAreaThumbImpl ref={forwardedRef} {...thumbProps} />\n      </Presence>\n    );\n  }\n);\n\ntype ScrollAreaThumbImplElement = React.ElementRef<typeof Primitive.div>;\ninterface ScrollAreaThumbImplProps extends PrimitiveDivProps {}\n\nconst ScrollAreaThumbImpl = React.forwardRef<ScrollAreaThumbImplElement, ScrollAreaThumbImplProps>(\n  (props: ScopedProps<ScrollAreaThumbImplProps>, forwardedRef) => {\n    const { __scopeScrollArea, style, ...thumbProps } = props;\n    const scrollAreaContext = useScrollAreaContext(THUMB_NAME, __scopeScrollArea);\n    const scrollbarContext = useScrollbarContext(THUMB_NAME, __scopeScrollArea);\n    const { onThumbPositionChange } = scrollbarContext;\n    const composedRef = useComposedRefs(forwardedRef, (node) =>\n      scrollbarContext.onThumbChange(node)\n    );\n    const removeUnlinkedScrollListenerRef = React.useRef<() => void>();\n    const debounceScrollEnd = useDebounceCallback(() => {\n      if (removeUnlinkedScrollListenerRef.current) {\n        removeUnlinkedScrollListenerRef.current();\n        removeUnlinkedScrollListenerRef.current = undefined;\n      }\n    }, 100);\n\n    React.useEffect(() => {\n      const viewport = scrollAreaContext.viewport;\n      if (viewport) {\n        /**\n         * We only bind to native scroll event so we know when scroll starts and ends.\n         * When scroll starts we start a requestAnimationFrame loop that checks for\n         * changes to scroll position. That rAF loop triggers our thumb position change\n         * when relevant to avoid scroll-linked effects. We cancel the loop when scroll ends.\n         * https://developer.mozilla.org/en-US/docs/Mozilla/Performance/Scroll-linked_effects\n         */\n        const handleScroll = () => {\n          debounceScrollEnd();\n          if (!removeUnlinkedScrollListenerRef.current) {\n            const listener = addUnlinkedScrollListener(viewport, onThumbPositionChange);\n            removeUnlinkedScrollListenerRef.current = listener;\n            onThumbPositionChange();\n          }\n        };\n        onThumbPositionChange();\n        viewport.addEventListener('scroll', handleScroll);\n        return () => viewport.removeEventListener('scroll', handleScroll);\n      }\n    }, [scrollAreaContext.viewport, debounceScrollEnd, onThumbPositionChange]);\n\n    return (\n      <Primitive.div\n        data-state={scrollbarContext.hasThumb ? 'visible' : 'hidden'}\n        {...thumbProps}\n        ref={composedRef}\n        style={{\n          width: 'var(--radix-scroll-area-thumb-width)',\n          height: 'var(--radix-scroll-area-thumb-height)',\n          ...style,\n        }}\n        onPointerDownCapture={composeEventHandlers(props.onPointerDownCapture, (event) => {\n          const thumb = event.target as HTMLElement;\n          const thumbRect = thumb.getBoundingClientRect();\n          const x = event.clientX - thumbRect.left;\n          const y = event.clientY - thumbRect.top;\n          scrollbarContext.onThumbPointerDown({ x, y });\n        })}\n        onPointerUp={composeEventHandlers(props.onPointerUp, scrollbarContext.onThumbPointerUp)}\n      />\n    );\n  }\n);\n\nScrollAreaThumb.displayName = THUMB_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ScrollAreaCorner\n * -----------------------------------------------------------------------------------------------*/\n\nconst CORNER_NAME = 'ScrollAreaCorner';\n\ntype ScrollAreaCornerElement = ScrollAreaCornerImplElement;\ninterface ScrollAreaCornerProps extends ScrollAreaCornerImplProps {}\n\nconst ScrollAreaCorner = React.forwardRef<ScrollAreaCornerElement, ScrollAreaCornerProps>(\n  (props: ScopedProps<ScrollAreaCornerProps>, forwardedRef) => {\n    const context = useScrollAreaContext(CORNER_NAME, props.__scopeScrollArea);\n    const hasBothScrollbarsVisible = Boolean(context.scrollbarX && context.scrollbarY);\n    const hasCorner = context.type !== 'scroll' && hasBothScrollbarsVisible;\n    return hasCorner ? <ScrollAreaCornerImpl {...props} ref={forwardedRef} /> : null;\n  }\n);\n\nScrollAreaCorner.displayName = CORNER_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ScrollAreaCornerImplElement = React.ElementRef<typeof Primitive.div>;\ninterface ScrollAreaCornerImplProps extends PrimitiveDivProps {}\n\nconst ScrollAreaCornerImpl = React.forwardRef<\n  ScrollAreaCornerImplElement,\n  ScrollAreaCornerImplProps\n>((props: ScopedProps<ScrollAreaCornerImplProps>, forwardedRef) => {\n  const { __scopeScrollArea, ...cornerProps } = props;\n  const context = useScrollAreaContext(CORNER_NAME, __scopeScrollArea);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const hasSize = Boolean(width && height);\n\n  useResizeObserver(context.scrollbarX, () => {\n    const height = context.scrollbarX?.offsetHeight || 0;\n    context.onCornerHeightChange(height);\n    setHeight(height);\n  });\n\n  useResizeObserver(context.scrollbarY, () => {\n    const width = context.scrollbarY?.offsetWidth || 0;\n    context.onCornerWidthChange(width);\n    setWidth(width);\n  });\n\n  return hasSize ? (\n    <Primitive.div\n      {...cornerProps}\n      ref={forwardedRef}\n      style={{\n        width,\n        height,\n        position: 'absolute',\n        right: context.dir === 'ltr' ? 0 : undefined,\n        left: context.dir === 'rtl' ? 0 : undefined,\n        bottom: 0,\n        ...props.style,\n      }}\n    />\n  ) : null;\n});\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction toInt(value?: string) {\n  return value ? parseInt(value, 10) : 0;\n}\n\nfunction getThumbRatio(viewportSize: number, contentSize: number) {\n  const ratio = viewportSize / contentSize;\n  return isNaN(ratio) ? 0 : ratio;\n}\n\nfunction getThumbSize(sizes: Sizes) {\n  const ratio = getThumbRatio(sizes.viewport, sizes.content);\n  const scrollbarPadding = sizes.scrollbar.paddingStart + sizes.scrollbar.paddingEnd;\n  const thumbSize = (sizes.scrollbar.size - scrollbarPadding) * ratio;\n  // minimum of 18 matches macOS minimum\n  return Math.max(thumbSize, 18);\n}\n\nfunction getScrollPositionFromPointer(\n  pointerPos: number,\n  pointerOffset: number,\n  sizes: Sizes,\n  dir: Direction = 'ltr'\n) {\n  const thumbSizePx = getThumbSize(sizes);\n  const thumbCenter = thumbSizePx / 2;\n  const offset = pointerOffset || thumbCenter;\n  const thumbOffsetFromEnd = thumbSizePx - offset;\n  const minPointerPos = sizes.scrollbar.paddingStart + offset;\n  const maxPointerPos = sizes.scrollbar.size - sizes.scrollbar.paddingEnd - thumbOffsetFromEnd;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const scrollRange = dir === 'ltr' ? [0, maxScrollPos] : [maxScrollPos * -1, 0];\n  const interpolate = linearScale([minPointerPos, maxPointerPos], scrollRange as [number, number]);\n  return interpolate(pointerPos);\n}\n\nfunction getThumbOffsetFromScroll(scrollPos: number, sizes: Sizes, dir: Direction = 'ltr') {\n  const thumbSizePx = getThumbSize(sizes);\n  const scrollbarPadding = sizes.scrollbar.paddingStart + sizes.scrollbar.paddingEnd;\n  const scrollbar = sizes.scrollbar.size - scrollbarPadding;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const maxThumbPos = scrollbar - thumbSizePx;\n  const scrollClampRange = dir === 'ltr' ? [0, maxScrollPos] : [maxScrollPos * -1, 0];\n  const scrollWithoutMomentum = clamp(scrollPos, scrollClampRange as [number, number]);\n  const interpolate = linearScale([0, maxScrollPos], [0, maxThumbPos]);\n  return interpolate(scrollWithoutMomentum);\n}\n\n// https://github.com/tmcw-up-for-adoption/simple-linear-scale/blob/master/index.js\nfunction linearScale(input: readonly [number, number], output: readonly [number, number]) {\n  return (value: number) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\n\nfunction isScrollingWithinScrollbarBounds(scrollPos: number, maxScrollPos: number) {\n  return scrollPos > 0 && scrollPos < maxScrollPos;\n}\n\n// Custom scroll handler to avoid scroll-linked effects\n// https://developer.mozilla.org/en-US/docs/Mozilla/Performance/Scroll-linked_effects\nconst addUnlinkedScrollListener = (node: HTMLElement, handler = () => {}) => {\n  let prevPosition = { left: node.scrollLeft, top: node.scrollTop };\n  let rAF = 0;\n  (function loop() {\n    const position = { left: node.scrollLeft, top: node.scrollTop };\n    const isHorizontalScroll = prevPosition.left !== position.left;\n    const isVerticalScroll = prevPosition.top !== position.top;\n    if (isHorizontalScroll || isVerticalScroll) handler();\n    prevPosition = position;\n    rAF = window.requestAnimationFrame(loop);\n  })();\n  return () => window.cancelAnimationFrame(rAF);\n};\n\nfunction useDebounceCallback(callback: () => void, delay: number) {\n  const handleCallback = useCallbackRef(callback);\n  const debounceTimerRef = React.useRef(0);\n  React.useEffect(() => () => window.clearTimeout(debounceTimerRef.current), []);\n  return React.useCallback(() => {\n    window.clearTimeout(debounceTimerRef.current);\n    debounceTimerRef.current = window.setTimeout(handleCallback, delay);\n  }, [handleCallback, delay]);\n}\n\nfunction useResizeObserver(element: HTMLElement | null, onResize: () => void) {\n  const handleResize = useCallbackRef(onResize);\n  useLayoutEffect(() => {\n    let rAF = 0;\n    if (element) {\n      /**\n       * Resize Observer will throw an often benign error that says `ResizeObserver loop\n       * completed with undelivered notifications`. This means that ResizeObserver was not\n       * able to deliver all observations within a single animation frame, so we use\n       * `requestAnimationFrame` to ensure we don't deliver unnecessary observations.\n       * Further reading: https://github.com/WICG/resize-observer/issues/38\n       */\n      const resizeObserver = new ResizeObserver(() => {\n        cancelAnimationFrame(rAF);\n        rAF = window.requestAnimationFrame(handleResize);\n      });\n      resizeObserver.observe(element);\n      return () => {\n        window.cancelAnimationFrame(rAF);\n        resizeObserver.unobserve(element);\n      };\n    }\n  }, [element, handleResize]);\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = ScrollArea;\nconst Viewport = ScrollAreaViewport;\nconst Scrollbar = ScrollAreaScrollbar;\nconst Thumb = ScrollAreaThumb;\nconst Corner = ScrollAreaCorner;\n\nexport {\n  createScrollAreaScope,\n  //\n  ScrollArea,\n  ScrollAreaViewport,\n  ScrollAreaScrollbar,\n  ScrollAreaThumb,\n  ScrollAreaCorner,\n  //\n  Root,\n  Viewport,\n  Scrollbar,\n  Thumb,\n  Corner,\n};\nexport type {\n  ScrollAreaProps,\n  ScrollAreaViewportProps,\n  ScrollAreaScrollbarProps,\n  ScrollAreaThumbProps,\n  ScrollAreaCornerProps,\n};\n","import * as React from 'react';\n\ntype Machine<S> = { [k: string]: { [k: string]: S } };\ntype MachineState<T> = keyof T;\ntype MachineEvent<T> = keyof UnionToIntersection<T[keyof T]>;\n\n// ðŸ¤¯ https://fettblog.eu/typescript-union-to-intersection/\ntype UnionToIntersection<T> = (T extends any ? (x: T) => any : never) extends (x: infer R) => any\n  ? R\n  : never;\n\nexport function useStateMachine<M>(\n  initialState: MachineState<M>,\n  machine: M & Machine<MachineState<M>>\n) {\n  return React.useReducer((state: MachineState<M>, event: MachineEvent<M>): MachineState<M> => {\n    const nextState = (machine[state] as any)[event];\n    return nextState ?? state;\n  }, initialState);\n}\n"],"names":["Presence","present","children","props","presence","usePresence","initialState","machine","node","setNode","React2","stylesRef","prevPresentRef","prevAnimationNameRef","state","send","mounted","UNMOUNT","ANIMATION_OUT","unmountSuspended","MOUNT","ANIMATION_END","unmounted","React","event","nextState","currentAnimationName","getAnimationName","current","useLayoutEffect","styles","wasPresent","prevAnimationName","display","timeoutId","ownerWindow","ownerDocument","defaultView","window","handleAnimationEnd","isCurrentAnimation","includes","animationName","target","currentFillMode","style","animationFillMode","setTimeout","handleAnimationStart","addEventListener","clearTimeout","removeEventListener","isPresent","ref","getComputedStyle","child","only","useComposedRefs","getElementRef","element","getter","Object","getOwnPropertyDescriptor","get","mayWarn","isReactWarning","forceMount","displayName","SCROLL_AREA_NAME","createScrollAreaContext","createScrollAreaScope","createContextScope","ScrollAreaProvider","useScrollAreaContext","ScrollArea","forwardedRef","__scopeScrollArea","type","dir","scrollHideDelay","scrollAreaProps","scrollArea","setScrollArea","viewport","setViewport","content","setContent","scrollbarX","setScrollbarX","scrollbarY","setScrollbarY","cornerWidth","setCornerWidth","cornerHeight","setCornerHeight","scrollbarXEnabled","setScrollbarXEnabled","scrollbarYEnabled","setScrollbarYEnabled","composedRefs","direction","useDirection","jsx","scope","onViewportChange","onContentChange","onScrollbarXChange","onScrollbarXEnabledChange","onScrollbarYChange","onScrollbarYEnabledChange","onCornerWidthChange","onCornerHeightChange","Primitive","div","position","VIEWPORT_NAME","ScrollAreaViewport","nonce","viewportProps","context","jsxs","Fragment","dangerouslySetInnerHTML","__html","overflowX","overflowY","minWidth","SCROLLBAR_NAME","ScrollAreaScrollbar","scrollbarProps","isHorizontal","orientation","ScrollAreaScrollbarHover","ScrollAreaScrollbarScroll","ScrollAreaScrollbarAuto","ScrollAreaScrollbarVisible","visible","setVisible","hideTimer","handlePointerEnter","handlePointerLeave","debounceScrollEnd","useDebounceCallback","hidden","SCROLL","scrolling","SCROLL_END","POINTER_ENTER","interacting","POINTER_LEAVE","idle","HIDE","scrollDirection","prevScrollPos","handleScroll","scrollPos","onPointerEnter","composeEventHandlers","onPointerLeave","handleResize","isOverflowX","offsetWidth","scrollWidth","isOverflowY","offsetHeight","scrollHeight","useResizeObserver","thumbRef","pointerOffsetRef","sizes","setSizes","scrollbar","size","paddingStart","paddingEnd","thumbRatio","getThumbRatio","commonProps","onSizesChange","hasThumb","Boolean","onThumbChange","thumb","onThumbPointerUp","onThumbPointerDown","pointerPos","getScrollPosition","getScrollPositionFromPointer","pointerOffset","thumbSizePx","getThumbSize","offset","minPointerPos","maxPointerPos","maxScrollPos","interpolate","ScrollAreaScrollbarX","onThumbPositionChange","getThumbOffsetFromScroll","scrollLeft","transform","onWheelScroll","onDragScroll","ScrollAreaScrollbarY","scrollTop","computedStyle","setComputedStyle","composeRefs","ScrollAreaScrollbarImpl","bottom","left","right","x","deltaX","isScrollingWithinScrollbarBounds","preventDefault","onResize","clientWidth","toInt","paddingLeft","paddingRight","top","y","deltaY","clientHeight","paddingTop","paddingBottom","ScrollbarProvider","useScrollbarContext","setScrollbar","rectRef","prevWebkitUserSelectRef","handleWheelScroll","useCallbackRef","handleThumbPositionChange","handleDragScroll","clientX","clientY","handleWheel","contains","document","passive","onPointerDown","button","setPointerCapture","pointerId","getBoundingClientRect","body","webkitUserSelect","scrollBehavior","onPointerMove","onPointerUp","hasPointerCapture","releasePointerCapture","THUMB_NAME","ScrollAreaThumb","thumbProps","scrollbarContext","ScrollAreaThumbImpl","scrollAreaContext","composedRef","removeUnlinkedScrollListenerRef","listener","addUnlinkedScrollListener","width","height","onPointerDownCapture","thumbRect","CORNER_NAME","ScrollAreaCorner","hasBothScrollbarsVisible","hasCorner","ScrollAreaCornerImpl","cornerProps","setWidth","setHeight","hasSize","value","parseInt","viewportSize","contentSize","ratio","isNaN","scrollbarPadding","Math","max","scrollWithoutMomentum","clamp","linearScale","input","output","handler","prevPosition","rAF","loop","isHorizontalScroll","isVerticalScroll","requestAnimationFrame","cancelAnimationFrame","callback","delay","handleCallback","debounceTimerRef","resizeObserver","ResizeObserver","observe","unobserve","Root","Viewport","Corner"],"sourceRoot":""}