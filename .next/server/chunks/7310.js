!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7942bbf3-3348-4f6c-a7b6-cd270872b09d",e._sentryDebugIdIdentifier="sentry-dbid-7942bbf3-3348-4f6c-a7b6-cd270872b09d")}catch(e){}}(),exports.id=7310,exports.ids=[7310],exports.modules={2002:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(31403);r(39307);var s=r(75632);function o(){return a.jsx(s.J5,{className:"m-auto",autoplay:!0,loop:!0,src:"/loading.json",style:{height:"12rem",width:"12rem"},"data-sentry-element":"Player","data-sentry-component":"Loading","data-sentry-source-file":"loading.tsx"})}},13947:(e,t,r)=>{"use strict";let a;r.r(t),r.d(t,{default:()=>w,generateImageMetadata:()=>x,generateMetadata:()=>b,generateViewport:()=>v});var s=r(28920),o=r(68691),n=r(54637),d=r(54580),l=r(46167);r(9943);var i=r(81776);let c=(0,i.createProxy)(String.raw`/Users/macmini/Sites/iwan/iwen_front/src/app/(dashboard)/(profile)/ui/header.tsx#default`),u=(0,i.createProxy)(String.raw`/Users/macmini/Sites/iwan/iwen_front/src/app/(dashboard)/(profile)/ui/navbar.tsx#default`);function m({children:e}){return(0,l.jsxs)("div",{dir:"rtl",className:"mx-auto mt-[2rem] min-w-[80svw] bg-white p-8","data-sentry-component":"NavZone","data-sentry-source-file":"navZone.tsx",children:[l.jsx(u,{"data-sentry-element":"Navbar","data-sentry-source-file":"navZone.tsx"}),l.jsx("div",{className:"mt-10",children:e})]})}var f=r(74719),p=r(59339);async function h({children:e}){let{data:t}=await (0,f.default)();return t.user||(0,p.redirect)("/login"),(0,l.jsxs)("div",{className:" m-auto mt-12 flex h-full min-h-screen w-full flex-col overflow-x-hidden bg-bgcolor1 p-10","data-sentry-component":"Layout","data-sentry-source-file":"layout.tsx",children:[(0,l.jsx)(c,{"data-sentry-element":"Header","data-sentry-source-file":"layout.tsx"}),(0,l.jsx)(m,{"data-sentry-element":"NavZone","data-sentry-source-file":"layout.tsx",children:e})]})}let g={...d},y="workUnitAsyncStorage"in g?g.workUnitAsyncStorage:"requestAsyncStorage"in g?g.requestAsyncStorage:void 0;a=new Proxy(h,{apply:(e,t,r)=>{let a,d,l;try{let e=(0,s.x)([y,"optionalAccess",e=>e.getStore,"call",e=>e()]);a=(0,o.h)((0,s.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("sentry-trace")]),()=>void 0),d=(0,o.h)((0,s.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("baggage")]),()=>void 0),l=(0,s.x)([e,"optionalAccess",e=>e.headers])}catch(e){}return n.wrapServerComponentWithSentry(e,{componentRoute:"/(dashboard)/(profile)",componentType:"Layout",sentryTraceHeader:a,baggageHeader:d,headers:l}).apply(t,r)}});let b=void 0,x=void 0,v=void 0,w=a},61025:(e,t,r)=>{"use strict";let a;r.r(t),r.d(t,{default:()=>p,generateImageMetadata:()=>m,generateMetadata:()=>u,generateViewport:()=>f});var s=r(28920),o=r(68691),n=r(54637),d=r(54580),l=(0,r(81776).createProxy)(String.raw`/Users/macmini/Sites/iwan/iwen_front/src/app/(dashboard)/(profile)/loading.tsx#default`);let i={...d},c="workUnitAsyncStorage"in i?i.workUnitAsyncStorage:"requestAsyncStorage"in i?i.requestAsyncStorage:void 0;a="function"==typeof l?new Proxy(l,{apply:(e,t,r)=>{let a,d,l;try{let e=(0,s.x)([c,"optionalAccess",e=>e.getStore,"call",e=>e()]);a=(0,o.h)((0,s.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("sentry-trace")]),()=>void 0),d=(0,o.h)((0,s.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("baggage")]),()=>void 0),l=(0,s.x)([e,"optionalAccess",e=>e.headers])}catch(e){}return n.wrapServerComponentWithSentry(e,{componentRoute:"/(dashboard)/(profile)",componentType:"Loading",sentryTraceHeader:a,baggageHeader:d,headers:l}).apply(t,r)}}):l;let u=void 0,m=void 0,f=void 0,p=a},27033:(e,t,r)=>{let a={"2e32ad85c09f05479470641f63c6e19679667730":()=>Promise.resolve().then(r.bind(r,74719)).then(e=>e.default),"4cff84bc16a182ce9e639f8d1157bd16e56a5a1f":()=>Promise.resolve().then(r.bind(r,44772)).then(e=>e.default)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={"2e32ad85c09f05479470641f63c6e19679667730":s.bind(null,"2e32ad85c09f05479470641f63c6e19679667730"),"4cff84bc16a182ce9e639f8d1157bd16e56a5a1f":s.bind(null,"4cff84bc16a182ce9e639f8d1157bd16e56a5a1f")}},60383:(e,t,r)=>{Promise.resolve().then(r.bind(r,2002))},55508:(e,t,r)=>{Promise.resolve().then(r.bind(r,27732)),Promise.resolve().then(r.bind(r,18173))},27732:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(31403),s=r(14335),o=r(18967);r(39307);var n=r(18198);let d=(0,r(65078).default)(()=>r.e(4517).then(r.bind(r,94517)),{ssr:!1});function l(){let{data:e}=(0,s.Z)(),{data:t}=(0,n.Z)({});return(0,a.jsxs)("div",{dir:"rtl",className:"mx-auto flex h-auto w-[80svw] flex-col items-center justify-evenly gap-4 p-4 md:h-[8.5rem] md:flex-row md:gap-[2rem] md:p-0","data-sentry-component":"Header","data-sentry-source-file":"header.tsx",children:[a.jsx(d,{defaultProfilePic:e?.data?.avatar,"data-sentry-element":"ProfilePictureUpload","data-sentry-source-file":"header.tsx"}),(0,a.jsxs)("div",{className:"flex w-full flex-col items-center gap-4 rounded-lg bg-white p-3 md:h-full md:flex-row md:items-stretch md:gap-0 md:p-0",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 pl-2 pr-2 text-center sm:pl-[6rem] sm:pr-[2rem] md:gap-3 md:text-right",children:[a.jsx("div",{className:"text-lg font-semibold md:text-xl",children:e?.data?.first_name+" "+e?.data?.last_name}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500 md:justify-start",children:[a.jsx(o.default,{src:"/profile/fi-rr-envelope.png",alt:"",width:500,height:500,className:"h-4 w-4","data-sentry-element":"Image","data-sentry-source-file":"header.tsx"}),a.jsx("div",{children:e?.data?.email})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 px-4 py-2 md:gap-3 md:border-l-2 md:border-r-2 md:border-t-0 md:px-[6rem] md:py-0",children:[a.jsx(o.default,{src:"/profile/fi-rr-book.png",alt:"Purchases Icon",width:500,height:500,className:"h-5 w-5","data-sentry-element":"Image","data-sentry-source-file":"header.tsx"}),(0,a.jsxs)("div",{className:"text-sm md:text-base",children:["المشتريات (",t?.data?.meta.total_count,")"]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 px-4 py-2 md:gap-3 md:py-0 md:pl-[5rem] md:pr-[6rem]",children:[a.jsx(o.default,{src:"/profile/coin-svgrepo-com 1.png",alt:"Total Spending Icon",width:500,height:500,className:"h-6 w-6 md:h-7 md:w-7","data-sentry-element":"Image","data-sentry-source-file":"header.tsx"}),(0,a.jsxs)("div",{className:"text-sm md:text-base",children:[(0,a.jsxs)("div",{className:"text-sm md:text-base",children:["إجمالي الإنفاق ( ",e?.data?.total_spent," د.م)"]})," "]})]})]})]})}},18173:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var a=r(31403),s=r(83086),o=r(38723);function n(){let e=(0,o.usePathname)();return(0,a.jsxs)("ul",{className:"flex items-center gap-3 text-sm font-semibold sm:gap-4 sm:text-lg","data-sentry-component":"Navbar","data-sentry-source-file":"navbar.tsx",children:[a.jsx(s.default,{href:"/profile","data-sentry-element":"Link","data-sentry-source-file":"navbar.tsx",children:a.jsx("li",{className:`pb-1 ${e.includes("profile")?"border-b-2 border-color2 text-color2":""}`,children:"بيانات عامة"})}),a.jsx(s.default,{href:"/purchaseHistory","data-sentry-element":"Link","data-sentry-source-file":"navbar.tsx",children:a.jsx("li",{className:`pb-1 ${e.includes("purchaseHistory")?"border-b-2 border-color2 text-color2":""}`,children:"تاريخ المشتريات"})}),a.jsx(s.default,{href:"/changePassword","data-sentry-element":"Link","data-sentry-source-file":"navbar.tsx",children:a.jsx("li",{className:`pb-1 ${e.includes("changePassword")?"border-b-2 border-color2 text-color2":""}`,children:"تغيير كلمة المرور"})}),a.jsx(s.default,{href:"/wishlist","data-sentry-element":"Link","data-sentry-source-file":"navbar.tsx",children:a.jsx("li",{className:`pb-1 ${e.includes("wishlist")?"border-b-2 border-color2 text-color2":""}`,children:"قائمة الرغبات"})})]})}r(39307)},84757:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var a=r(4488),s=r(54988),o=r(54406);let n=e=>({queryKey:["orders",e],queryFn:async()=>{let t=(0,o.Z)({resource:"orders",action:"getMyOrders"}),r=Object.keys(e).map(t=>({name:t,value:JSON.stringify(e[t])})),n=(0,a.Z)({currentPathname:t(),values:r}),{error:d,data:l}=await (0,s.Z)({method:"GET",url:n});return d?{data:null,error:d}:{data:l,error:null}}})},18198:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(3844),s=r(84757);function o(e){return(0,a.useQuery)((0,s.z)(e))}},74719:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(71608);r(40810);let s={users:{getUsers:()=>"/users",updateUser:e=>`/users/${e}`,getUser:e=>`/users/${e}`,getMe:()=>"/users/me",updateMe:()=>"/users/me"},books:{getBookId:e=>`/books/${e}`,getBooks:()=>"/books",updateBook:e=>`/books/${e}`,createBook:()=>"/books",deleteBook:e=>`/books/${e}`,addCategory:(e,t)=>`/books/${e}/categories/${t}`,addSubCategory:(e,t)=>`/books/${e}/subcategories/${t}`,removeCategory:(e,t)=>`/books/${e}/categories/${t}`,removeSubCategory:(e,t)=>`/books/${e}/subcategories/${t}`},categories:{getCategories:()=>"/Categories",updateCategory:e=>`/Categories/${e}`,createCategory:()=>"/Categories",deleteCategory:e=>`/Categories/${e}`},cover_types:{getCoverTypes:()=>"/cover_types",updateCoverType:e=>`/cover_types/${e}`,createCoverType:()=>"/cover_types",deleteCoverType:e=>`/cover_types/${e}`},publish_houses:{getPublishHouses:()=>"/share_houses",updatePublishHouse:e=>`/share_houses/${e}`,createPublishHouse:()=>"/share_houses",deletePublishHouse:e=>`/share_houses/${e}`},subcategories:{getSubCategories:()=>"/subcategories",updateSubCategory:e=>`/subcategories/${e}`,createSubCategory:()=>"/subCategories",deleteSubCategory:e=>`/subcategories/${e}`},writers:{getWriters:()=>"/writers",updateWriter:e=>`/writers/${e}`,createWriter:()=>"/writers",deleteWriter:e=>`/writers/${e}`},corners:{getCorners:()=>"/corners",updateCorner:e=>`/corners/${e}`,createCorner:()=>"/corners",deleteCorner:e=>`/corners/${e}`},orders:{getMyOrders:()=>"/orders/me",getOrderId:e=>`/orders/${e}`,getOrders:()=>"/orders",updateOrder:e=>`/orders/${e}`,createOrder:()=>"/orders",deleteOrder:e=>`/orders/${e}`},events:{getEvents:()=>"/events",updateEvent:e=>`/events/${e}`,createEvent:()=>"/events",deleteEvent:e=>`/events/${e}`,getEventById:e=>`/events/${e}`},banners:{getBanners:()=>"/banners",updateBanner:e=>`/banners/${e}`,createBanner:()=>"/banners",deleteBanner:e=>`/banners/${e}`},wishlist:{getWishlist:()=>"/wishlist/me",createWishlist:()=>"/wishlist",deleteWishlist:e=>`/wishlist/${e}`}};var o=r(44772);async function n(){let e=function({resource:e,action:t}){return s[e][t]}({resource:"users",action:"getMe"}),{data:t,error:r}=await (0,o.default)({method:"GET",url:e()});return{error:r,data:{user:t}}}(0,r(77068).h)([n]),(0,a.j)("2e32ad85c09f05479470641f63c6e19679667730",n)},98661:(e,t,r)=>{"use strict";r.r(t),r.d(t,{uploadFile:()=>d});var a=r(33098);r(16355);var s=r(15856),o=r(20747);async function n({file:e,fileName:t,bucketName:r}){let a=(0,s.e)(),{data:o,error:n}=await a.storage.from(r).upload(t,e,{cacheControl:"3600",upsert:!1});return{data:o,error:n}}async function d({formData:e,name:t,title:r}){let a=e.get(t);if(!a||0===a.size||"undefined"===a.name)throw Error("No file selected or invalid file.");let{data:s,error:o}=await n({file:a,fileName:r,bucketName:"pictures"});if(o)throw Error(`Failed to upload the file: ${o.message}`);return process.env.SUPABASE_STORAGE_LINK+"/"+s?.fullPath}(0,o.h)([n]),(0,a.j)("6905efc29dce06e794674eddd26d570c63bbd70a",n),(0,o.h)([d]),(0,a.j)("8bcde02c5e09fef278163ef6a6e4b5262a0a54d9",d)},68323:(e,t,r)=>{"use strict";r.d(t,{e:()=>o});var a=r(4221),s=r(11163);function o(){let e=(0,s.cookies)();return(0,a.createServerClient)("https://mqisujmkeqaqwppsnnww.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1xaXN1am1rZXFhcXdwcHNubnd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjc4MDEyMjksImV4cCI6MjA0MzM3NzIyOX0.TIWb9bPwCeKJqdZJu8BP4e6mten0lSCv3MCE1Ii9gbg",{cookies:{getAll:()=>e.getAll(),setAll(t){try{t.forEach(({name:t,value:r,options:a})=>e.set(t,r,a))}catch{}}}})}},44772:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(71608);r(40810);var s=r(13276),o=r(68323);async function n({url:e,method:t,payload:r}){try{let a=(0,o.e)(),n=await a.auth.getSession(),d=n.data.session?.access_token,l={accept:"application/json","content-type":"application/json"};d&&(l={...l,Authorization:`Bearer ${d}`});let i=s.Z.create({baseURL:process.env.BACKEND_URL,timeout:0,headers:l});return{data:(await i.request({method:t,url:e,data:r||{}})).data,error:null,validationErrors:null}}catch(e){if(!s.Z.isAxiosError(e))return{data:null,error:e.message,validationErrors:null};{let t=e.response?.data;if(t.errors)return{data:null,error:e.message,validationErrors:t.errors};return{data:null,error:e.message,validationErrors:null}}}}(0,r(77068).h)([n]),(0,a.j)("4cff84bc16a182ce9e639f8d1157bd16e56a5a1f",n)}};
//# sourceMappingURL=7310.js.map